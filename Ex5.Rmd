---
title: "Practica 1"
output: 
  html_notebook: default
  pdf_document: default
---

<style>
p.comment {
background-color: #DBDBDB;
padding: 10px;
border: 1px solid black;
border-radius: 5px;
font-style: italic;
}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
setwd("~/dades/linux/AD")
library(dplyr)
library(tidyr)
library(car)

graphics.off()      # reset/close all graphical devices 
```

# First part
## Data 
### a) Read data
```{r}
dd <- read.table("kernels.dat", header=T)
head(dd)
```
## First questions
### b) Means
```{r}
apply(dd, MARGIN=2, FUN=mean)
```
### c) Centered dataframe
```{r}
ddc <- scale(dd, scale=FALSE)
head(ddc)
```
### d) Covariance matrix
They aren't comparable because they are in different scales.
```{r}
cov(dd)
sprintf("The variable with more variance is %s", names(which.max(apply(dd, MARGIN=2, FUN=var))))
```
### e) Correlation matrix
```{r}
cor(dd)
scatterplotMatrix(dd)
abs(cor(dd)) > 0.5 # Strong linear correlation
```
### f) Standardized data frame
```{r}
dds <- scale(dd)
head(dds)
```
### g)
We observe it is equal to the correlation matrix of the original dataframe.
```{r}
cov(dds)
```
### h) Euclidean distance
```{r}
as.matrix(dist(dd[1:5,]))
```

### i) Centered / Standardize euclidean distance
```{r}
print("Centered")
as.matrix(dist(ddc[1:5,]))

print("Standardized")
as.matrix(dist(dds[1:5,]))
```

### j) 
The transformation in question is
$f(\bf{x}) = \frac{\bf{x}-\overline{x}}{\sqrt{Var(\bf{x})}}+\overline{x}$
where $\overline{x}$ is the vector where all entries are the mean of the vector x.
```{r}
ddn <- t(t(dds)+apply(dd, MARGIN=2, FUN=mean))
head(ddn)
apply(ddn, MARGIN=2, FUN=mean)
abs(apply(ddn, MARGIN=2, FUN=mean)-apply(dd, MARGIN=2, FUN=mean)) < 1e-7
apply(ddn, MARGIN=2, FUN=var)
```





















